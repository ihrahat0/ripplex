"use strict";(self.webpackChunkcyboxreact=self.webpackChunkcyboxreact||[]).push([[184],{3184:(e,o,s)=>{s.d(o,{generateVerificationCode:()=>n,send2FAStatusChangeEmail:()=>i,sendPasswordChangeConfirmation:()=>t,sendVerificationEmail:()=>c});var a=s(9246);const r="localhost"===window.location.hostname?"http://localhost:3001/api":"https://rippleexchange.org/api";console.log("Using API URL base:",r);const n=()=>Math.floor(1e5+9e5*Math.random()).toString(),t=async e=>{try{console.log(`Sending password change confirmation to ${e}`);return(await a.A.post(`${r}/send-password-change-confirmation`,{email:e})).data}catch(n){var o,s;return console.error("Failed to send password change confirmation:",n),{success:!1,error:(null===(o=n.response)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.error)||n.message}}},i=async(e,o)=>{try{return(await a.A.post(`${r}/send-2fa-status-change`,{email:e,enabled:o})).data}catch(t){var s,n;return console.error("Failed to send 2FA status change email:",t),{success:!1,error:(null===(s=t.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.error)||t.message}}},c=async(e,o)=>{try{console.log(`Sending verification email to ${e}`),console.log(`Using API URL: ${r}/send-verification-code`);const s={timeout:3e4,headers:{"Content-Type":"application/json"}},n=await a.A.post(`${r}/send-verification-code`,{email:e,code:o},s);return console.log("Email API response:",n.data),n.data}catch(n){let e="Failed to send registration verification email",o={};var s;if(n.response)console.error("Email API error response:",{status:n.response.status,data:n.response.data}),e=(null===(s=n.response.data)||void 0===s?void 0:s.error)||e,o={status:n.response.status,data:n.response.data};else n.request?(console.error("Email API no response:",n.request),e="No response from server. Please check your network connection.",o={request:"Request was sent but no response received"}):(console.error("Email API request setup error:",n.message),e=n.message);return console.error("Failed to send registration verification email:",e),{success:!1,error:e,details:o}}}}}]);